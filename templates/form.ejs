<!DOCTYPE html>
<html>

<head>
    <title>Kt giua ki</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <style>
        .btn-back{
            margin: 10px;
            margin-left: 0;
        }
        form{
            width: 50%;
            margin: auto;
            border: 2px solid gray;
            padding: 10px;
            border-radius: 10px;
        }
        input{
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="container ">

        <a href="http://localhost:3000/" class="btn-back btn btn-primary">Quay lai danh sach</a>
        <center>
            <h1>Them tour du lich</h1>
        </center>
        <form method="post" action="/" enctype="multipart/form-data" id="form">
            <input type="text" placeholder="Nhap Ten tour" class="form-control" name="tenTour" id="name">
            <small class="text-danger" id="lbname"></small>
            <input type="text" placeholder="Nhap The Loai" class="form-control" name="theLoai" id="loai">
            <small class="text-danger" id="lbloai"></small>
            <input type="text" placeholder="Nhap Thoi gian" class="form-control" name="thoiGian" id="tg">
            <small class="text-danger" id="lbtg"></small>
            <input type="text" placeholder="Nhap Gia tour" class="form-control" name="gia" id="gia">
            <small class="text-danger" id="lbgia"></small>
            <input type="text" placeholder="Nhap ghi chu" class="form-control" name="ghiChu">
            <input type="submit" value="Them thong tin tour" class="btn btn-success">
        </form>
    </div>

    <script>
        $(document).ready(() => {
            const checkName = (() => {
                const name = $("#name");
                const lbname = $("#lbname");
                if (name.val() == "") {
                    lbname.html("* Bat buoc nhap ten tour");
                    return false;
                }
                lbname.html("");
                return true;
            });
            $("#name").blur(checkName);

            const checkLoai = (() => {
                const loai = $("#loai");
                const lbloai = $("#lbloai");
                if (loai.val() == "") {
                    lbloai.html("* Bat buoc nhap the loai tour");
                    return false;
                }
                lbloai.html("");
                return true;
            });
            $("#loai").blur(checkLoai);

            const checktg = (() => {
                const tg = $("#tg");
                const lbtg = $("#lbtg");
                if (tg.val() == "") {
                    lbtg.html("* Bat buoc nhap the thoi gian tour");
                    return false;
                }
                lbtg.html("");
                return true;
            });
            $("#tg").blur(checktg);

            const checkgia = (() => {
                const gia = $("#gia");
                const lbgia = $("#lbgia");
                const re = /^[0-9]{1,}$/;
                if (gia.val() == "") {
                    lbgia.html("* Bat buoc nhap the thoi gian tour");
                    return false;
                } else if (!re.test(gia.val())) {
                    lbgia.html("Gia tour phai la so nguyen");
                    return false;
                }
                lbgia.html("");
                return true;
            });
            $("#gia").blur(checkgia);

            $("#form").submit((e) =>{
                if(checkName() && checkLoai() && checktg() && checkgia()){
                    $(this).submit();
                }
                else
                    e.preventDefault();
            });

        })
    </script>
</body>

</html>